(this.webpackJsonptodoapp=this.webpackJsonptodoapp||[]).push([[0],{121:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(37),s=a.n(r),o=(a(93),a(19)),i=a.n(o),u=a(30),l=a(7),p=a(157),j=a(153),b=a(20),d=a.n(b),h=a(13),x=a(52),f=a(155),g=a(27),O=a.n(g),m=a(1),v=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(l.a)(r,2),o=s[0],b=s[1],g=Object(n.useState)(""),v=Object(l.a)(g,2),k=v[0],_=v[1],C=Object(n.useState)(!1),w=Object(l.a)(C,2),y=w[0],T=w[1],N=Object(h.g)();if(localStorage.getItem("accessToken"))return Object(m.jsx)(h.a,{replace:!0,to:"/main"});var S=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,O.a.post("https://heroku-backend-app-for-todo.herokuapp.com/login",{login:a,password:o});case 4:n=e.sent,localStorage.setItem("accessToken",n.data.jwtToken),c(""),b(""),N("/main"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),_(e.t0.response.data),T(!0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:d.a.container,children:[y&&Object(m.jsx)(f.a,{severity:"error",onClose:function(){return T(!1)},children:k}),Object(m.jsx)("h1",{className:d.a.text,children:"Todo List"}),Object(m.jsxs)("form",{action:"post",onSubmit:S,children:[Object(m.jsx)("div",{className:d.a.login,children:Object(m.jsx)(j.a,{id:"outlined-required",label:"Login",onChange:function(e){c(e.target.value)},value:a,autoComplete:"off"})}),Object(m.jsx)("div",{className:d.a.pwrd,children:Object(m.jsx)(j.a,{required:!0,id:"outlined-password-input",label:"Password",type:"password",onChange:function(e){b(e.target.value)},value:o,autoComplete:"off"})}),Object(m.jsx)("div",{className:d.a.btn,children:Object(m.jsx)(p.a,{type:"submit",children:"Sign in"})})]}),Object(m.jsx)("p",{className:d.a.textDescript,children:"If you don`t have account, sign up!"}),Object(m.jsx)("span",{className:d.a.btn1,children:Object(m.jsx)(x.b,{to:"/registration",children:Object(m.jsx)(p.a,{children:"Sign up"})})})]})},k=a(54),_=a.n(k),C=a(26),w=a.n(C),y=function(e){var t=e.setFiltredType,a=e.filtredType,n=e.orderType,c=e.setOrderType;return Object(m.jsxs)("div",{className:w.a.btn,children:[Object(m.jsx)("button",{onClick:function(){return t("")},className:"All"===a?w.a.active:w.a.button,children:"All"}),Object(m.jsx)("button",{onClick:function(){return t("undone")},className:"undone"===a?w.a.active:w.a.button,children:"Undone"}),Object(m.jsx)("button",{onClick:function(){return t("done")},className:"done"===a?w.a.active:w.a.button,children:"Done"}),Object(m.jsx)("p",{children:"Sort by Date:"}),Object(m.jsx)("button",{onClick:function(){return c("asc")},className:"asc"===n?w.a.active:w.a.button,children:"Old"}),Object(m.jsx)("button",{onClick:function(){return c("desc")},className:"desc"===n?w.a.active:w.a.button,children:"New"})]})},T=a(42),N=a.n(T),S=function(e){var t=e.state,a=e.setTodos,n=e.showTasks,c=e.getTasks,r=e.setTriggerError,s=e.setAlert,o=localStorage.getItem("accessToken"),l=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.patch("https://heroku-backend-app-for-todo.herokuapp.com/task/".concat(t.uuid),{name:t.name,done:!t.done},{headers:{authorization:"".concat(o),"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=utf-8"}});case 3:c(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),s(e.t0.response.data.message),r(!0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),p=function(e){e.target.contentEditable=!0},j=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"Enter"!==t.key){e.next=11;break}if(""===t.target.textContent){e.next=9;break}return n=t.target.textContent,a.name=t.target.textContent,e.next=7,O.a.patch("https://heroku-backend-app-for-todo.herokuapp.com/task/".concat(a.uuid),{name:n,done:!1},{headers:{authorization:"".concat(o),"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=utf-8"}}).then((function(e){t.target.contentEditable=!1,c()}));case 7:e.next=11;break;case 9:t.target.textContent=a.name,t.target.contentEditable=!1;case 11:"Escape"===t.key&&(t.target.textContent=a.name,t.target.contentEditable=!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),s(e.t0.response.data.message),r(!0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(m.jsx)("ul",{className:N.a.items,children:n.map((function(e){return Object(m.jsxs)("li",{id:e.uuid,className:N.a.item,children:[Object(m.jsx)("input",{type:"checkbox",checked:e.done,onChange:function(){l(e)}}),Object(m.jsx)("span",{onDoubleClick:p,onKeyDown:function(t){return j(t,e)},onBlur:function(t){return function(e,t){e.target.contentEditable=!1,e.target.textContent=t.name}(t,e)},className:N.a.text,children:e.name}),Object(m.jsx)("span",{className:N.a.date,children:new Date(Date.parse(e.createdAt)).toLocaleString()}),Object(m.jsx)("span",{onClick:function(){!function(e){try{O.a.delete("https://heroku-backend-app-for-todo.herokuapp.com/task/".concat(e),{headers:{authorization:"".concat(o),"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=utf-8"}});var n=t.filter((function(t){return t.uuid!==e}));a(n)}catch(c){s(c.response.data.message),r(!0)}}(e.uuid)},className:N.a.delete,children:Object(m.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/2602/2602735.png"})})]},e.uuid)}))})},P=a(33),D=a.n(P),E=function(e){var t=e.allPages,a=e.setCurrentPage;return Object(m.jsx)("li",{className:D.a.page,onClick:function(){return a(t[0])},children:"<<"})},A=function(e){var t=e.allPages,a=e.setCurrentPage,n=e.currentPage;return t.map((function(e){return Object(m.jsx)("li",{className:n===e?D.a.active:D.a.page,onClick:function(){a(e)},children:e+1},e)}))},I=function(e){var t=e.allPages,a=e.setCurrentPage;return Object(m.jsx)("li",{className:D.a.page,onClick:function(){return a(t.length-1)},children:">>"})},F=function(e){var t=e.allPages,a=e.setCurrentPage;return Object(m.jsxs)("ul",{className:D.a.pagination,children:[Object(m.jsx)(E,{allPages:t,setCurrentPage:a}),Object(m.jsx)(A,{allPages:t,setCurrentPage:a}),Object(m.jsx)(I,{allPages:t,setCurrentPage:a})]})},L=a(78),B=a.n(L),z=function(e){var t=e.sendTask,a=e.onNewTextTask,n=e.text;return Object(m.jsx)("input",{onKeyDown:t,onChange:a,value:n,className:B.a.fieldWrite,type:"text",placeholder:"I want to..."})};var R=function(){var e,t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)("all"),o=Object(l.a)(s,2),j=o[0],b=o[1],d=Object(n.useState)("asc"),x=Object(l.a)(d,2),g=x[0],v=x[1],k=Object(n.useState)("0"),C=Object(l.a)(k,2),w=C[0],T=C[1],N=Object(n.useState)([]),P=Object(l.a)(N,2),D=P[0],E=P[1],A=Object(n.useState)(""),I=Object(l.a)(A,2),L=I[0],B=I[1],R=Object(n.useState)(!1),W=Object(l.a)(R,2),q=W[0],J=W[1],K=Object(h.g)(),H=[],M=localStorage.getItem("accessToken");Object(n.useEffect)((function(){U()}),[c,j,g]);for(var U=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,localStorage.getItem("accessToken")){e.next=3;break}return e.abrupt("return",K("/login"));case 3:return e.next=5,O.a.get("https://heroku-backend-app-for-todo.herokuapp.com/tasks?filterBy=".concat(j,"&sortBy=").concat(g),{headers:{authorization:localStorage.getItem("accessToken"),"Content-Type":"application/json;charset=utf-8"}});case 5:t=e.sent,E(t.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),B(e.t0.response.data),J(!0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Y=Math.ceil(D.length/5),Z=0;Z<Y;Z++)H.push(Z);e=D.slice(5*w,5*(w+1));var Q=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"Enter"!==t.key||""===t.target.value){e.next=6;break}return e.next=4,O.a.post("https://heroku-backend-app-for-todo.herokuapp.com/task",{name:c},{headers:{authorization:"".concat(M),"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=utf-8"}});case 4:r(""),U();case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),B(e.t0.response.data),J(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:_.a.btnExt,children:Object(m.jsx)(p.a,{variant:"text",onClick:function(){localStorage.removeItem("accessToken"),K("/login")},children:"Exit"})}),Object(m.jsxs)("div",{className:_.a.app,children:[q&&Object(m.jsx)(f.a,{severity:"error",onClose:function(){return J(!1)},children:L}),Object(m.jsx)("h1",{className:_.a.title,children:"ToDo List"}),Object(m.jsx)(z,{sendTask:Q,onNewTextTask:function(e){r(e.target.value)},text:c}),Object(m.jsx)(y,{setFiltredType:b,filtredType:j,orderType:g,setOrderType:v}),Object(m.jsx)(S,{getTasks:U,state:D,setTodos:E,showTasks:e,setTriggerError:J,setAlert:B}),Object(m.jsx)(F,{allPages:H,setCurrentPage:T,currentPage:w})]})]})},W=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(l.a)(r,2),o=s[0],b=s[1],x=Object(n.useState)(""),g=Object(l.a)(x,2),v=g[0],k=g[1],_=Object(n.useState)(""),C=Object(l.a)(_,2),w=C[0],y=C[1],T=Object(n.useState)(!1),N=Object(l.a)(T,2),S=N[0],P=N[1],D=Object(h.g)(),E=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),o===v){e.next=5;break}return P(!0),e.abrupt("return",y("Password no identify"));case 5:if(!(o.length<=8)){e.next=8;break}return P(!0),e.abrupt("return",y("Password length less 8 symbols"));case 8:return e.next=10,O.a.post("https://heroku-backend-app-for-todo.herokuapp.com/registration",{login:a,password:o});case 10:n=e.sent,localStorage.setItem("accessToken",n.data.jwtToken),c(""),b(""),k(""),D("/main"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),y(e.t0.response.data),P(!0);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:d.a.container,children:[S&&Object(m.jsx)(f.a,{severity:"error",onClose:function(){return P(!1)},children:w}),Object(m.jsx)("h1",{className:d.a.text,children:"Todo List"}),Object(m.jsx)("h2",{className:d.a.text,children:"Registration"}),Object(m.jsxs)("form",{action:"post",onSubmit:E,children:[Object(m.jsx)("div",{className:d.a.login,children:Object(m.jsx)(j.a,{id:"outlined-required",label:"Login",onChange:function(e){c(e.target.value)},value:a,autoComplete:"off"})}),Object(m.jsx)("div",{className:d.a.pwrd,children:Object(m.jsx)(j.a,{label:"Password",type:"password",autoComplete:"off",onChange:function(e){b(e.target.value)},value:o})}),Object(m.jsx)("div",{className:d.a.pwrd1,children:Object(m.jsx)(j.a,{label:"Repeat Password",type:"password",autoComplete:"off",onChange:function(e){k(e.target.value)},value:v})}),Object(m.jsx)("div",{className:d.a.btn,children:Object(m.jsx)(p.a,{type:"submit",children:"Sign up"})})]})]})};var q=function(){return Object(m.jsx)(x.a,{children:Object(m.jsxs)(h.d,{children:[Object(m.jsx)(h.b,{path:"/login",element:Object(m.jsx)(v,{})}),Object(m.jsx)(h.b,{path:"/main",element:Object(m.jsx)(R,{})}),Object(m.jsx)(h.b,{path:"/registration",element:Object(m.jsx)(W,{})}),Object(m.jsx)(h.b,{path:"*",element:Object(m.jsx)(h.a,{replace:!0,to:"/login"})})]})})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,159)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(q,{})}),document.getElementById("root")),J()},20:function(e,t,a){e.exports={container:"startPage_container__26IIA",text:"startPage_text__12EoQ",login:"startPage_login__25ftm",btn:"startPage_btn__18aUy",textDescript:"startPage_textDescript__eye31",pwrd1:"startPage_pwrd1__1-vos"}},26:function(e,t,a){e.exports={btn:"buttons_btn__370Hx",button:"buttons_button__32SZR",active:"buttons_active__PaKR5"}},33:function(e,t,a){e.exports={pagination:"pagination_pagination__3i9jO",page:"pagination_page__3go4Z",active:"pagination_active__1Rcnk"}},42:function(e,t,a){e.exports={items:"items_items__2aY_b",item:"items_item__15uJF",text:"items_text__3aHDc",delete:"items_delete__zDu_4"}},54:function(e,t,a){e.exports={app:"mainContent_app__2TF9B",fieldWrite:"mainContent_fieldWrite__2B18c",btnExt:"mainContent_btnExt__38DhY"}},78:function(e,t,a){e.exports={fieldWrite:"input_fieldWrite__198v2"}},93:function(e,t,a){}},[[121,1,2]]]);
//# sourceMappingURL=main.b08582e1.chunk.js.map